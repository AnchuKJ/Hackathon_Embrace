
<div fxLayout="column" class="components-container-gt-xs"  [ngClass.xs]="'components-container-xs'"  fxLayoutGap="20px" >

	<div fxFlex class="stepper-component-holder mat-elevation-z4">
		<mat-toolbar class="stepper-header">
			<h1 class="mat-headline center-align" >Create Campaign</h1>
		</mat-toolbar>
		
		<div class="stepper-container" fxFlex.sm="350">
			
			<div fxLayout="row" fxLayout.lt-sm="column" fxLayoutGap="60px" fxFlex.sm="350">
				<div fxFlex.xs="100" fxFlex.lg="70" fxFlex.md="70" fxFlex.sm="170" >				

					<mat-horizontal-stepper [linear]="isLinear" #stepper fxFlexfill>
							<mat-step [stepControl]="firstFormGroup">
									<form [formGroup]="firstFormGroup">
									  <ng-template matStepLabel>Select Beneficiary</ng-template>
									  <div>											
												<div class="headertable">
													<div fxLayout="row" fxLayout="row wrap" class="headerRow">
															<div fxFlex="15">Sl No</div>
															<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25">Name</div>
															<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25">Amount</div>															
															<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25">Purpose</div>	
														</div>																							 
													<div *ngFor="let beneficiary of beneficiaries;let i=index" >
														<div fxLayout="row" fxLayout="row wrap" (click)="SelectBeneficiary(beneficiary,stepper)" class="cellRow">
															<div fxFlex="15">{{i + 1}}</div>																								
															<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25"><img style="width:20px;height:20px;margin-right:5px;border-radius: 50%;" [src]='"assets/uploads/"+beneficiary.ImageId'/>{{beneficiary.Name}}</div>
															<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25">₹{{beneficiary.RequestAmount}}</div>															
															<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25">{{beneficiary.PurposeType}}</div>		
														</div>														
													</div>											
												</div>
											  
									  </div>		
									
									</form>
								  </mat-step>
					<mat-step [stepControl]="thirdFormGroup" >
						<form [formGroup]="thirdFormGroup" >
							<ng-template matStepLabel>Details Summary</ng-template>
							<div fxLayout="row" style="height:40px;" fxLayout="row wrap">
								<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25" class="CaptionTitle">Name</div>
								<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25">{{selectedBeneficiary?.Name}}</div>									
							</div>
							<div fxLayout="row" style="height:40px;" fxLayout="row wrap">
									<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25" class="CaptionTitle">Description</div>
									<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25">{{selectedBeneficiary?.Description}}</div>									
								</div>
								<div fxLayout="row" style="height:40px;" fxLayout="row wrap">
										<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25" class="CaptionTitle">Amount</div>
										<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25">₹{{selectedBeneficiary?.RequestAmount}}</div>									
									</div>	
									<div fxLayout="row" style="height:40px;" fxLayout="row wrap">
										<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25" class="CaptionTitle">Purpose</div>
										<div fxFlex.lt-sm="100" fxFlex.sm="50" fxFlex.md="25">{{selectedBeneficiary?.PurposeType}}</div>									
									</div>		
							<div>
								<button mat-button (click)="BackClick()" matStepperPrevious>Back</button>
								<button mat-button (click)="BackClick()" matStepperNext>Next</button>
							</div>
						</form>
						</mat-step>
					  <mat-step [stepControl]="secondFormGroup" >
					    <form [formGroup]="secondFormGroup" >
								<ng-template matStepLabel >Fill out campaign details</ng-template>
								<div>
									<mat-form-field>
										<input matInput placeholder="Campaign Name" formControlName="Name" required>
									</mat-form-field>
								 </div>								 
									<div>											
										<mat-form-field>
											<textarea matInput placeholder="Description" formControlName="Description" required rows="3"></textarea>											
										</mat-form-field>
									</div>
									<div>											
										<mat-form-field>
											<input matInput placeholder="Image" formControlName="Image" [(ngModel)]="uploadedFile" >
											<input class="fileInput" type="file" name="photo" ng2FileSelect [uploader]="uploader" />					
											
										</mat-form-field>
										
									</div>		
									<div style="margin-bottom:20px">																			
											<mat-radio-group formControlName="IsCharity">
													<mat-radio-button value="IsCharityOption" style="margin-right:20px">Charity</mat-radio-button>
													<mat-radio-button value="IsFinanceOption">Lending</mat-radio-button>
												  </mat-radio-group>
									</div>
									
					      <div>
						    <button mat-button (click)="BackClick()" matStepperPrevious>Back</button>
							<button mat-button matStepperNext (click) ="AddCampaign()">Submit</button>
					      </div>
					    </form>
					  </mat-step>
					  
					  <mat-step>
						<ng-template matStepLabel>Done</ng-template>
					    You are now done.<br/>					    
					  </mat-step>
					</mat-horizontal-stepper>	           

				</div>
				<img [src]='"assets/uploads/"+BeneficiaryImage' *ngIf="BeneficiaryImage" class="ImageStyle">
			</div>

			
		</div>		

	</div>

</div>